import tkinter as tk
from tkinter import filedialog
import os
import tkinter.messagebox as messagebox

print("                      ▄▄   ▄▄                               \n▀███▀▀▀██▄          ▀███   ██ ███▀▀██▀▀███                  \n  ██   ▀██▄           ██      █▀   ██   ▀█                  \n  ██   ▄██  ▄██▀██▄   ██ ▀███      ██    ▀███▄███▀██▀   ▀██▀\n  ███████  ██▀   ▀██  ▓█   ██      ▓█      ██▀ ▀▀  ██   ▄█  \n  ██       ██     ██  ▓█   ▓█      ▓█      █▓       ██ ▄▓   \n  █▓       ██     ▓█  ▓█   ▓█      ▓█      █▓        ██▓    \n  █▓       ▓█     ▓▓  ▓▓   ▓▓      ▓█      ▓▓        █▓▓    \n  ▓▓       ▓▓▓   ▓▓▓  ▒▓   ▓▓      ▓▓      ▓▒        ▓▓▒    \n▒▓▒▓▒       ▒ ▒ ▒ ▒ ▒ ▒ ▒▒ ▒ ▒   ▒ ▒▓▒▒  ▒ ▒▒▒       ▓▓     \n                                                   ▒▒▓      \n                                                 ▒▒▒        ")

while True:
    root = tk.Tk()
    root.withdraw()

    file_path = filedialog.askopenfilename()
    if not file_path:
        print("No file selected. Exiting...")
        break

    if not os.path.exists(file_path):
        print("File does not exist. Exiting...")
        break

    search_string_1 = input("Search 1 :")

    search_string_2 = input("Search 2 :")

    try:
       found_lines_1 = []
       found_lines_2 = []
       with open(file_path, 'r', encoding='utf-8', errors='replace') as f:
           for line in f:
              if search_string_1 in line and search_string_2 in line:
                found_lines_1.append(line.strip())

           if not found_lines_1:
            print(f"'{search_string_1}' + '{search_string_2}'\n░░░░░░░░░░░░░░░░░░░░░░░░░░░ ███████▄░██████  ███████▄░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░ ████████████▌█▀ ▐███████████▄░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░████████▀███      ████████████ ░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░██████▀                 ██████░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░▐██▀                      ████░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░██ ██████          ██████ ▐█ ░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░ ██▀ ████▄ ▀█▄       █▀  ▀███▌ ██▄░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░███ ▐███████▄█      ▐█████████ ███ ░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░██   ████████  ▄███  ▀███████▄  ███░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░▀████▓███▀     ▀███      ██████▐██ ░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░ ██████      ▐█████      ████▓██░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░██▓███▌                    ███████░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░████████▄▄                ▄▄████████░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░███████▀▐██████▄▄▄▄▄▄▄▄██████▀ ████▓██░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░ █▓█████░░░▄████████████████▄░░░███▓███ ░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░██▌█▓██▌░▄███▀  ▀███████▀ ████▄░ ██▌█▓██░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░██▓████░████▌              █████░███████ ░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░▐███████░████                ████░████████░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░▄██▌█████▌░░▀███▄            ▄█▀██ ░█▌████████░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░██████████████▓▓▓██████▄▄▄▄▌█████▓▓▓▓█████████████░░░░░░░░░░░░░░░\n░░░░░░░░░░░░▄█████████████████▓▓▓▓████████████▓▓▓▓██▀██████████████▌░░░░░░░░░░░░\n░░░░░░░░░░░▓█████████████▓█████▌▓▓████▀▒▓▀████▓▓▓█████▓█████████████▌░░░░░░░░░░░\n░░░░░░░░░░░░░▀██████████████▀▌▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▐▀███████████████░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░ ▀▀▀▀▀▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▀▀▀▀ ░░░░░░░░░░░░░░░░░░░\n\nNot Found")
           else:
            output_file_1 = f"{os.path.splitext(file_path)[0]}_{search_string_1}_results.txt"
            with open(output_file_1, 'w', encoding='utf-8') as f:
                f.write('\n'.join(found_lines_1))

            print(f"{len(found_lines_1)} lines containing '{search_string_1}' and '{search_string_2}' in the same line were found in the file. "
                  f"The results have been saved to {output_file_1}")
    except FileNotFoundError:
      print(f"File not found at {file_path}")


    except Exception as e:
        print(f"An error occurred while searching the file: {e}")

    user_input = input("Try Again The Script")
